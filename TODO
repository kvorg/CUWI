-*- outline -*-

* CWB::Model BUGS:

** Buggy Query escapes:
    ~ force simple query (and escape CQP)
    = force simple text  (and escape CQP)
    + force CQP
    should also handle whitespace better:
       at query start
       before and after the escape
** In paging with Result objects, the end page calcualation is wrong

* CWB::Model

** Multicorpora
    - created with an external API from existing corpora
    - shuld send queries to multiple corpora and queue or mix the results
    - paging calculation should be optional, wrapped up in a function
      (and thus reusable for virtual corpora; pagesize and this needed)
    - corpus offsets should be included for virtual paging
** Sorting (hopefully no perl fail-over)
** Test cwb beta release compatibiliy
** Support [] syntax, possibly just letting users use [], []*, []?, []{n,n}
** Tests
** Implement max_size and max_querytime
** Wordlist and sorting/prunning using CQP features better
** Paging and progressive building for bigger wordlists
** Implement cached queries:
   - CWB::Model::Corpus keeps a pool of ageing Query objects, matched on query
   - queries are reused with different show options, paging etc.
   - possibly used to support chained queries
** Support for chained query support, list-oriented queries and macros, i.e. 
    /codist["whose", pos];
    /codist[lemma, "go", word];
** Non-blocking high performant queries using
    Mojo::IOLoop->timer(0, sub { poll query or render-cb ; reset timer; }
    The query should have a flag when still running and refuse new request
    from the query cache API
** Concordance support
** Ugly workaround for sample/reduce display mode context links:
    Chained query on full context, then original search

* Web interface BUGS

** disable context links for para display mode
** sanitize can't/does not work (readonly??)
** handle errors with web page display
** should 'sample' stay as default?

* Web interface

** Multicorpora support as needed
** Display CWB::Model errors
** rename to cuwi, cuwi favicon
** set defaults to 'all', context of 7 words
** L18n
** Tabular export for queries
** Cleanup of templates: separation with includes
** Production mode logging of queries - cleanup
** When more than 7 attributes are present, switch display to 4 drop-down lists 
** Query compositing, see: http://nl2.ijs.si/fpj.html
** Sorting, with options:
   - by hit string, left / right token
   - ascending, descending, forward, a tergo (reversed)
   - by word or any other atribute
   - with 2 or three sort keys
** More sorting and groupig for wordlists:
   - by frequency, by object found (using column headings for sort)
   - 2 or 3 sort keys = grouping
** Concordance support
   - probaly by supporting cwb-scan-corpus and disk-related
     long-polled results
** ??? subcorpus selection according to structural attributes


* Links: 

** http://corpus.leeds.ac.uk/paraquery.html
** http://www.comp.leeds.ac.uk/ssharoff/
** http://the.sketchengine.co.uk/
** corpus.leeds.ac.uk./ serge cqp search
SPOOK concord: http://nl.ijs.si/et/project/SPOOK/konkor/ 
Para corpora:  http://nl2.ijs.si/index-bi.html
               where ALIGNED names is the aligned corpus, aligned by <seg>
               http://nl2.ijs.si/dsi.html


* Release-cirtical:

** bugs
** sane defaults
** sorting
** I18n
** multicorpora
** tabular download
** documentation
** tests
