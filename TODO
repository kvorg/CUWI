 -*- outline -*-


* CWB::Model BUGS:

** Escapes for ?, handling for single "
** Check query mangling in detail
** Bail out gracefully on faulty corpora:
   - no data files
   - skip non-existing peers (log error)
   - skip non-existing virtaul corpora members (log error)
** Bail-out gracefully with maxhits:
    announce in red
    make a reduce to maxhits
** In paging with Result objects, the end page calculation is wrong
** Structure handling in Query: structure searches
** Default overrides new for ingorecase
** Bug in combined query syntax: a* [word="t.*"], add test!
** enable quoting of CQP escapes for "[rule]" and '[rule]'
   - change CQP heurisitcs
** Better tests/fails for failing/missing registry specifications
** Clean up newlines at the end of description

* CWB::Model

** Multicorpora
    - extract virtual query magic into CWB::Model::Query::Virtual
    spook:
    - fix paging calculation,  should be optional, wrapped up in a function
** spook: sub-searches (based on existing search)
   aka Support for chained query support -> store previous queries in link/params
** spook: any needed support for form-based alignement and structural queries
** Add sorting to wordlists (js?)
** Implement max_size and max_querytime properly
** Fix all file work to use IO::File and File::Spec
** Native CQP and cwb-corpus-scan interfaces
** Possibly keep wordlists with paging and progressive building
** Add corpus positions dump as an export option
** Support generic info files: if not looking as our structured info or copy of registry,
   use whole info file as english description
** Test coverage
** Concordance support
** Info files: translateable names/titles
** Add a handle for literal matching (no regexps) with %l
** Test cwb beta release compatibiliy
** Sorting with multiple sort keys
** Wordlist and sorting/prunning using CQP features better
** Implement cached queries:
   - CWB::Model::Corpus keeps a pool of ageing Query objects, matched on query
   - queries are reused with different show options, paging etc.
   - possibly used to support chained queries
** Support for list-oriented queries and macros, i.e. 
    /codist["whose", pos];
    /codist[lemma, "go", word];
** Non-blocking high performant queries using
    Mojo::IOLoop->timer(0, sub { poll query or render-cb ; reset timer; }
    or suitable newer solutions
    The query should have a flag when still running and refuse new request
    from the query cache API

* Web interface BUGS

** Wordlist empty????
** classes: sanitize with the virtual corpus before sending
** wordlist: quote metacharacters in string links: check
** fix wierd behavior with last page on \. search on imp-goo
** cuwi favicon, help icon
** move export modules in eval encapsualtion and handle exceptions
** disable context links for biggest display mode (sentence or paragraph)
** sanitize can't/does not work (readonly??) - tests
** make label and checkbox unbreakable in attributes
   (css?)
** possibly closures for exception handling are buggy
   - should rethrow the exception and catch it in webapp?
   - find a way to test all of this

* Web interface

** change wordlist exporting to divide matches into multiple fields
** spook: worldlist query handling
** spook: Templates for query result exports
   for excel/oocalc, tab-delmited, csv, xml, latex, json, data::dump, yaml
   (Spreadsheet::Write for csv and Excel)
** spook: bilingual search support
    Iskalnik mora omogočati iskanje po obeh jezikih hkrati, se pravi npr. Spook-an: president on aligned Spook-sl: predsednik. 
    glej: http://nl2.ijs.si/index-bi.htlm
** spook: structural attribute limited search (links + CQP, then add-on fields)
   "sito za strukturne atribute: maska + link v rezultatih"
** spook: password protected groups
** spook: frequency lists
   support encodings (custom server?)
   make them optional: only by order
** spook: sub-searches (based on existing search)
** short ID for structural attribute (auth year?) in [result]
   sane default + changeable from info file or conf
** spook: web homes for corpus groups ??
** spook: home page info:
    navodila za uporabo v slovenščini s čimveč primeri različnih tipov iskanj
** imp: Use click-to pop-up for help
   (via js binding + help at bottom always)
** imp: sortable frequency lists (via js)
** wordlists: klick on frequency number to get conjunction query
** Additional grid query compositing interface
   as per http://nl.ijs.si/jos/cqp/uni
** When more than 7 attributes are present, switch display to 4 drop-down lists 
   (possibly list selection performs a direct query redirect)
** Log cleanup:
   Production mode logging of queries and performance -> info
   Development: info->debug
** Add sample implementation with redirect to a fixed sample seeed [till May 8]
   [check status and add tests]
** Sorting, with options:
   - with 2 or three sort keys
** Split display modes into search, detail, frequencies, collocations
** Add generate config helper to cuwi command line, and help
** Cleanup of templates: separation with includes, I18n
** I18n
** Concordance support
   - probaly by supporting cwb-scan-corpus and disk-related
     long-polled results, see CWB::Model TODO
** More sorting and grouping for wordlists:
   - by frequency, by object found (using column headings for sort)
   - 2 or 3 sort keys = grouping
** Query compositing, see: http://nl2.ijs.si/fpj.html
** Use compositing or subcorpus to limit to structural atts with links

* Tests

** Finish CWB::Model tests
** CUWI Webapp tests
** Online tests for HTML and CSS syntax checking

* Links: 

** http://corpus.leeds.ac.uk/paraquery.html
** http://www.comp.leeds.ac.uk/ssharoff/
** http://the.sketchengine.co.uk/
** corpus.leeds.ac.uk./natasha mana serge cqp search
** SPOOK concord: http://nl.ijs.si/et/project/SPOOK/konkor/ 
** Para corpora:
   - http://nl2.ijs.si/index-bi.html
           where ALIGNED name is the aligned corpus, aligned by <seg>
   - http://nl2.ijs.si/dsi.html

* Release-critical

** spook stuff, multicorpora
** tests
** colocations MI3 LL
** tabular download formats
** max_size, max_query_time
** I18n
** documentation

* Future:
** corpus groups
   - main list lists groups and non-grouped corpora
   - groups need special description files -> default corpus, links to members
   - grouped corpora have corpus selectors for corpora within group
   - alternatively, use SISTER_CORPORA in info files for the drop-down menu
** structural constraints (with subcorpora)
** user registration, storable queries, diff between storable queries etc.
 From the list:
Message:
From our experience working interactively in CQP, it's even more useful to
be able to run subqueries, i.e. filter query results either by collocates
(tokens with a certain property within a specified range, e.g. a finite
verb within 3 words) or by another CQP query.  This could easily be
implemented using "set keyword" and subqueries in CQP, but the results
would have to be stored as saved queries (because they can't easily be
reproduced when they're dropped from the cache).

